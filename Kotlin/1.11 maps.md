# Kotlin Maps â€“ Detailed Notes

## 1. Introduction to Maps
- A Map associates **keys** with **values**.
- Keys are **unique**, values can repeat.
- Common use cases: lookups, configuration, indexing.

---

## 2. Pair and the `to` Infix Function
```kotlin
val pair1 = Pair("Nail", "Hammer")
val pair2 = "Nail" to "Hammer"
```
- `to` is an infix function that creates a `Pair`.

---

## 3. Creating Maps

### Immutable Map
```kotlin
val toolbox = mapOf(
    "Nail" to "Hammer",
    "Hex Nut" to "Wrench"
)
```
- Cannot be modified after creation.

### Mutable Map
```kotlin
val toolbox = mutableMapOf(
    "Nail" to "Hammer"
)
```
- Supports add, update, and remove operations.

---

## 4. Accessing Values
```kotlin
toolbox["Nail"]          // returns value or null
toolbox.get("Nail")     // same as above
toolbox.getValue("Nail")// throws exception if key missing
toolbox.getOrDefault("Bolt", "Unknown")
```

---

## 5. Modifying Mutable Maps
```kotlin
toolbox["Bolt"] = "Spanner"   // add or update
toolbox.remove("Bolt")        // remove
```
- Keys themselves cannot be mutated.

---

## 6. Iteration
```kotlin
for ((key, value) in toolbox) {
    println("$key -> $value")
}
```

```kotlin
toolbox.forEach { (key, value) ->
    println("Use $value on $key")
}
```

---

## 7. Filtering Maps
```kotlin
val filtered = toolbox.filter { (k, v) ->
    v.contains("Hammer")
}
```
- Returns a **new map**.

---

## 8. Mapping Keys and Values
```kotlin
val newKeys = toolbox.mapKeys { it.key.uppercase() }
val newValues = toolbox.mapValues { it.value.lowercase() }
```

---

## 9. Default Values with `withDefault`
```kotlin
val withDefaultToolbox = toolbox.withDefault { "Hand Tool" }
withDefaultToolbox.getValue("Unknown")
```
- Avoids repeated `getOrDefault`.

---

## 10. Creating Maps from Collections

### associate
```kotlin
val map = listOf("a", "bb").associate { it to it.length }
```

### associateBy
```kotlin
val map = listOf("apple", "banana").associateBy { it.first() }
```

### associateWith
```kotlin
val map = listOf("apple", "banana").associateWith { it.length }
```

---

## 11. Key Points to Remember
- Prefer **immutable maps** by default.
- Use **mutable maps** only when mutation is required.
- `getValue()` is strict; `get()` is safe.
- Map operations return **new maps**, not modified ones.

---

### Reference
Based on: https://typealias.com/start/kotlin-maps/
