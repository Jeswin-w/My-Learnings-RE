Stack

Stack is a Data structure, That is faster than heap

function's memory is stored in stack and the active stack is at the top of the stack. each function has a frame.

once it is executed the function is poped.

when memory is added the memory address decreases as memory written from high to low

stack size is limited

Stack pointer:

it is a cpu register
it allocates & deallocates meory
points at end (last memory)

Base pointer/frame pointer:

a static pointer that points to the first address of a stack frame

also a cpu register

the address pointed by bp is used to read the value of variables as it differs by a fixed byte

 Function call:

 eg ) rbp = 2000
 rsp = 1000 in main

 before call func

 rsp = 992 // allocates memory for return address value
 992 = address to return to
 push rbp // save rbp value to stack 
 rsp = 984 // allocate memory to store rbp value
 984 = rbp
 rp = rsp // stat of next func
 rsp = rsp -16 (mem for next function)

 Function returns:

 rsp = rbp // removes all local values
 pop rbp
 rbp = popped prev rbp address
rsp = rsp +8 //resotred the space of poped, rsp now in return mem

pc = value in rsp // return mem poped
rsp = rsp + 8


